const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CategoryChips-tpdjyLXm.js","assets/vendor.react-BYd2qOD7.js","assets/vendor-B1AZ7KNd.js","assets/vendor.router-BdFOcp8q.js","assets/vendor.i18next-COqwnjR1.js","assets/vendor.zustand-BuMo4m-J.js","assets/vendor.tanstack-K6OTystZ.js","assets/vendor.leaflet-DeoKySpZ.js","assets/index-KQCI4LeS.js","assets/index-DZaiRlRO.css","assets/vendor-B1-rhOTE.css","assets/Chip-CXgHS-z1.js","assets/ProductSlider-DC3M2788.js","assets/ProductCard-BOYIxbom.js","assets/LazyImage-DU_XlSwx.js","assets/HomeFeatures-CzKvOmzV.js","assets/BrandsStrip-307uMK4W.js","assets/Offers-DJk4SUah.js","assets/vendor.motion-CEWeT_EF.js"])))=>i.map(i=>d[i]);
import{_ as v}from"./vendor.tanstack-K6OTystZ.js";import{R as w,r,j as e,t as $,ai as V,aj as q,q as B,L as F}from"./vendor.react-BYd2qOD7.js";import{P as L,a as M}from"./ProductCard-BOYIxbom.js";import{u as z,a as H,A as G,m as j,B as O,b as U,c as K,r as E,S as X}from"./index-KQCI4LeS.js";const J=w.memo(({src:a,alt:i,className:l})=>{const[d,o]=r.useState(!1);return e.jsx("div",{className:`${l} bg-gray-200 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,children:e.jsx("img",{src:a,alt:i,loading:"lazy",decoding:"async",onLoad:()=>o(!0),className:"w-full h-full object-cover"})})}),Q=w.memo(({slide:a,locale:i,t:l})=>e.jsxs(j.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.6,delay:.2},className:"space-y-6",children:[e.jsxs(j.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4},className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-semibold border border-white/30",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),l("saleBadge")]}),e.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold leading-tight",children:e.jsx("span",{className:"block bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:a.title})}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-white/90 font-light max-w-2xl mx-auto leading-relaxed",children:a.subtitle}),e.jsxs(j.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mt-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[e.jsx(O,{href:"/products",variant:"ghost",className:"min-w-[200px] text-white border-2 border-white/50 hover:bg-white/10 hover:border-white bg-transparent backdrop-blur-sm text-lg px-8 py-4","aria-label":i==="ar"?"تسوق الآن":"Shop Now",children:i==="ar"?"تسوق الآن":"Shop Now"}),e.jsx(O,{href:"/about",variant:"ghost",className:"min-w-[200px] text-white border-2 border-white/50 hover:bg-white/10 hover:border-white bg-transparent backdrop-blur-sm text-lg px-8 py-4","aria-label":i==="ar"?"تعرف علينا":"About Us",children:i==="ar"?"تعرف علينا":"About Us"})]})]},a.id)),W=w.memo(({slide:a,isActive:i})=>e.jsxs(j.div,{initial:{opacity:0,scale:1.05},animate:{opacity:i?1:0,scale:i?1:1.05},exit:{opacity:0,scale:.98},transition:{duration:.7,ease:"easeInOut"},className:"absolute inset-0 w-full h-full",style:{display:i?"block":"none"},children:[e.jsx(J,{src:a.src,alt:a.title,className:"w-full h-full"}),e.jsx("div",{className:"absolute inset-0",style:{background:a.overlay}}),e.jsx("div",{className:"absolute inset-0 bg-black/20"})]},a.id)),Y=()=>{const{locale:a,t:i}=z(),{setting:l}=H(),d="/products",o=r.useMemo(()=>{if(l?.heroBackgroundImage||l?.heroBackgroundGradient||l?.heroCenterImage){const t=a==="ar"?"تسوّق الآن":"Shop Now",s=a==="ar"?"أفضل العروض والمنتجات":"Great offers and products";return[{id:"setting-hero",src:l.heroBackgroundImage||"https://images.unsplash.com/photo-1607082350899-7e105aa886ae?auto=format&fit=crop&w=1200&q=70",title:t,subtitle:s,link:d,overlay:l.heroBackgroundGradient||"linear-gradient(135deg, rgba(16,185,129,0.8) 0%, rgba(5,150,105,0.8) 100%)",centerImage:l.heroCenterImage||null}]}return[{id:1,src:"https://images.unsplash.com/photo-1607082350899-7e105aa886ae?auto=format&fit=crop&w=1200&q=70",title:a==="ar"?"عروض خاصة":"Special Offers",subtitle:a==="ar"?"خصومات تصل إلى 50%":"Up to 50% Discount",link:d,overlay:"linear-gradient(135deg, rgba(102,126,234,0.8) 0%, rgba(118,75,162,0.8) 100%)"},{id:2,src:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=1200&q=70",title:a==="ar"?"أحدث المنتجات":"New Arrivals",subtitle:a==="ar"?"اكتشف مجموعتنا الجديدة":"Discover Our New Collection",link:d+"?sort=newest",overlay:"linear-gradient(135deg, rgba(239,68,68,0.8) 0%, rgba(249,115,22,0.8) 100%)"},{id:3,src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?auto=format&fit=crop&w=1200&q=70",title:a==="ar"?"شحن مجاني":"Free Shipping",subtitle:a==="ar"?"لطلبات فوق 200 ريال":"For Orders Over 200 SAR",link:"/shipping-info",overlay:"linear-gradient(135deg, rgba(16,185,129,0.8) 0%, rgba(5,150,105,0.8) 100%)"}]},[l,a]),[n,h]=r.useState(0),p=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,[u,f]=r.useState(!p),[g,b]=r.useState(!1),c=r.useRef(null),I=r.useRef(0);r.useEffect(()=>()=>{c.current&&clearInterval(c.current)},[]);const T=r.useCallback(t=>h(t),[]),m=r.useCallback(()=>h(t=>t===o.length-1?0:t+1),[o.length]),y=r.useCallback(()=>h(t=>t===0?o.length-1:t-1),[o.length]);r.useEffect(()=>{if(!u||g){c.current&&(clearInterval(c.current),c.current=null);return}return c.current=setInterval(m,l?.heroAutoplayInterval||5e3),()=>{c.current&&(clearInterval(c.current),c.current=null)}},[u,g,m,l]);const A=r.useCallback(t=>{I.current=t.targetTouches[0].clientX},[]),_=r.useCallback(t=>{const s=t.changedTouches[0].clientX,x=I.current-s;Math.abs(x)>50&&(x>0?m():y())},[m,y]),S=r.useRef(0);r.useEffect(()=>{S.current+=1},[n]);const P=r.useCallback(t=>{t.key==="ArrowLeft"&&(t.preventDefault(),y()),t.key==="ArrowRight"&&(t.preventDefault(),m()),t.key===" "&&(t.preventDefault(),f(s=>!s))},[y,m]);return e.jsxs("section",{className:"relative h-screen min-h-[520px] max-h-[800px] overflow-hidden",dir:a==="ar"?"rtl":"ltr",onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),onTouchStart:A,onTouchEnd:_,onKeyDown:P,tabIndex:0,"aria-roledescription":"carousel","aria-label":a==="ar"?"شريط شرائح رئيسية":"Hero carousel",children:[e.jsxs("div",{className:"relative w-full h-full",children:[o.map((t,s)=>e.jsx(W,{slide:t,isActive:s===n},t.id)),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[e.jsx(G,{mode:"wait",children:e.jsx(Q,{slide:o[n],locale:a,t:i})}),o[n]?.centerImage&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("img",{src:o[n].centerImage,alt:"",className:"max-h-48 sm:max-h-64 md:max-h-72 object-contain drop-shadow-xl",loading:"lazy"})})]})})}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:y,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 active:scale-95","aria-label":a==="ar"?"السابق":"Previous",children:e.jsx($,{size:20})}),e.jsx("button",{onClick:()=>f(!u),className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 active:scale-95","aria-label":u?a==="ar"?"إيقاف":"Pause":a==="ar"?"تشغيل":"Play",children:u?e.jsx(V,{size:16}):e.jsx(q,{size:16})}),e.jsx("button",{onClick:m,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 active:scale-95","aria-label":a==="ar"?"التالي":"Next",children:e.jsx(B,{size:20})})]}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3 ml-2 sm:ml-4",role:"tablist","aria-label":a==="ar"?"مؤشرات الشرائح":"Slide indicators",children:o.map((t,s)=>e.jsx("button",{onClick:()=>T(s),className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${s===n?"bg-white scale-125":"bg-white/50 hover:bg-white/70"}`,"aria-label":a==="ar"?`انتقل إلى الشريحة ${s+1}`:`Go to slide ${s+1}`,"aria-current":s===n?"true":void 0,role:"tab"},s))})]}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/20",children:!p&&u&&e.jsx(j.div,{className:"h-full bg-white",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:(l?.heroAutoplayInterval||5e3)/1e3,ease:"linear"}},S.current)})]}),e.jsx(j.div,{className:"absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer",animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0},onClick:()=>window.scrollBy({top:window.innerHeight-200,behavior:"smooth"}),children:e.jsx("div",{className:"w-5 h-8 sm:w-6 sm:h-10 border-2 border-white/50 rounded-full flex justify-center",children:e.jsx(j.div,{className:"w-1 h-2 sm:h-3 bg-white/70 rounded-full mt-2",animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0}})})})]})},Z=w.memo(Y);function k({children:a,threshold:i=.1,once:l=!0,rootMargin:d="0px",className:o=""}){const n=w.useRef(null),[h,p]=w.useState(!1);return w.useEffect(()=>{if(h&&l||typeof window>"u"||!n.current)return;if(!("IntersectionObserver"in window)){p(!0);return}const u=n.current,f=new IntersectionObserver(g=>{const b=g[0];b&&b.isIntersecting?(p(!0),l&&f.disconnect()):l||p(!1)},{threshold:i,rootMargin:d});return f.observe(u),()=>f.disconnect()},[i,l,d,h]),e.jsx("div",{ref:n,className:o,children:h?a:null})}function D({title:a,viewAllLink:i,className:l="",children:d}){return e.jsx("section",{className:`w-full ${l}`,children:e.jsxs("div",{className:"container-custom py-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold tracking-tight",children:a}),i?e.jsx(F,{className:"text-sm text-emerald-700 hover:text-emerald-800 font-medium",to:i,children:"عرض الكل"}):null]}),d]})})}const ee=r.lazy(()=>v(()=>import("./CategoryChips-tpdjyLXm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),te=r.lazy(()=>v(()=>import("./ProductSlider-DC3M2788.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,13,8,9,10,14]))),ae=r.lazy(()=>v(()=>import("./HomeFeatures-CzKvOmzV.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10]))),re=r.lazy(()=>v(()=>import("./BrandsStrip-307uMK4W.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10]))),se=r.lazy(()=>v(()=>import("./Offers-DJk4SUah.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10,13,14,0,11,16,18,12,15]))),ie=()=>{const{t:a,locale:i}=z(),{setting:l}=H()||{},{products:d,loading:o}=U()||{products:[],loading:!1},n=r.useDeferredValue(d||[]),{features:h,byLocation:p}=K()||{byLocation:{topStrip:[]},features:[]},[u,f]=r.useState(!1),[g,b]=r.useState(null);r.useEffect(()=>{let t=!0,s;const x=()=>{try{r.startTransition(()=>{t&&f(!0)})}catch{t&&f(!0)}};if(typeof window<"u")if("requestIdleCallback"in window){const N=window.requestIdleCallback(x,{timeout:1e3});return()=>{t=!1,window.cancelIdleCallback?.(N)}}else s=setTimeout(x,700);return()=>{t=!1,s&&clearTimeout(s)}},[]);const c=r.useMemo(()=>(n||[]).slice(-6).reverse(),[n]),I=r.useMemo(()=>(n||[]).filter(t=>t.oldPrice&&t.oldPrice>t.price).slice(0,6),[n]),T=r.useMemo(()=>(n||[]).slice(0,12),[n]),m=i==="ar"?l?.siteNameAr||"شركة منفذ اسيا التجارية":l?.siteNameEn||"My Store",y=i==="ar"?`${a("home")} | ${m}`:`${m} | ${a("home")}`,A=r.useMemo(()=>h?.slice(0,6).map(t=>({id:t.id,icon:e.jsx("span",{className:"text-3xl","aria-hidden":"true",children:t.icon}),title:E(t.title,i)||t.title,description:E(t.body,i)||t.body}))||[],[h,i]),_=r.useMemo(()=>{try{return typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{return!1}},[]),S={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},P={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}};return r.useEffect(()=>{if(!u||_)return;let t=!1,s=null,x=null;const N=()=>{v(()=>import("./vendor.motion-CEWeT_EF.js"),__vite__mapDeps([18,1,2,3,4,5,6,7])).then(R=>{if(t)return;const C=R.m||R.motion;C&&typeof C=="object"&&"div"in C?b(C):b(null)}).catch(()=>{})};try{typeof window<"u"&&typeof window.requestIdleCallback=="function"?s=window.requestIdleCallback(N,{timeout:800}):x=setTimeout(N,0)}catch{x=setTimeout(N,0)}return()=>{t=!0;try{s&&typeof window<"u"&&typeof window.cancelIdleCallback=="function"&&window.cancelIdleCallback(s)}catch{}x&&clearTimeout(x)}},[u,_]),e.jsxs("div",{className:"home-page-wrapper min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[e.jsx(X,{title:y,description:a("heroLead")}),p.topStrip?.length>0&&e.jsx("div",{className:"top-strip bg-emerald-600 text-white text-sm",children:e.jsx("div",{className:"container-custom flex justify-center gap-4 py-2 overflow-x-auto",children:p.topStrip.slice(0,3).map(t=>e.jsxs("a",{href:t.linkUrl||"#",className:"inline-flex items-center gap-2 hover:opacity-90 transition truncate",children:[t.image&&e.jsx("img",{src:t.image,alt:E(t.title,i),loading:"lazy",className:"h-8 w-auto rounded-md object-cover"}),e.jsx("span",{className:"font-medium truncate max-w-xs",children:E(t.title,i)})]},t.id))})}),e.jsx(Z,{siteName:m,locale:i,t:a}),e.jsx("div",{className:"backdrop-blur-sm bg-white/80 dark:bg-gray-800/60 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"container-custom py-3",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"h-8 bg-white/70 dark:bg-gray-800/70 rounded-lg animate-pulse","aria-busy":"true","aria-live":"polite"}),children:e.jsx(ee,{})})})}),u?e.jsxs(e.Fragment,{children:[e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"container-custom py-8 animate-pulse",children:e.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-800 rounded w-1/3 mb-6"})}),children:e.jsx(k,{children:e.jsx(ae,{features:A})})}),e.jsx(D,{title:i==="ar"?"المنتجات المميزة":"Featured Products",viewAllLink:"/products",className:"bg-gradient-to-t from-white to-emerald-50 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 animate-pulse",children:Array.from({length:6}).map((t,s)=>e.jsx("div",{className:"h-48 bg-white/80 dark:bg-gray-800 rounded-2xl shadow-md"},s))}),children:e.jsx(k,{threshold:.2,children:e.jsx(te,{products:T,limit:12})})})}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"container-custom py-6",children:e.jsx("div",{className:"h-10 bg-white dark:bg-gray-800 rounded-lg animate-pulse"})}),children:e.jsx(k,{children:e.jsx(re,{})})}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"container-custom py-8",children:e.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-800 rounded w-1/3 mb-6 animate-pulse"})}),children:e.jsx(k,{children:e.jsx(se,{products:I})})}),e.jsx(k,{children:e.jsx(D,{title:a("latestProducts"),viewAllLink:"/products",className:"bg-gradient-to-b from-white to-emerald-50 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300",children:g&&g.div?e.jsx(g.div,{variants:S,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 md:gap-6",children:o?Array.from({length:6}).map((t,s)=>e.jsx(g.div,{variants:P,children:e.jsx(L,{})},s)):c.length>0?c.map(t=>e.jsx(g.div,{variants:P,children:e.jsx(M,{product:t})},t.id)):e.jsx("p",{className:"col-span-full text-center text-gray-500 dark:text-gray-400 py-10",children:a("noProductsFound")})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 md:gap-6",children:o?Array.from({length:6}).map((t,s)=>e.jsx(L,{},s)):c.length>0?c.map(t=>e.jsx(M,{product:t},t.id)):e.jsx("p",{className:"col-span-full text-center text-gray-500 dark:text-gray-400 py-10",children:a("noProductsFound")})})})})]}):e.jsxs("div",{className:"container-custom py-8",children:[e.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-800 rounded w-1/3 mb-6 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:Array.from({length:6}).map((t,s)=>e.jsx("div",{className:"h-40 bg-white dark:bg-gray-800 rounded-lg shadow-sm animate-pulse"},s))})]})]})},le=w.memo(ie),ue=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{Z as H,ue as a};
