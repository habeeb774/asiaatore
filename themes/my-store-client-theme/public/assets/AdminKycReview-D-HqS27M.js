import{r as a,j as e}from"./vendor.react-BYd2qOD7.js";import{n as c,q as d}from"./index-KQCI4LeS.js";import"./vendor-B1AZ7KNd.js";import"./vendor.router-BdFOcp8q.js";import"./vendor.i18next-COqwnjR1.js";import"./vendor.zustand-BuMo4m-J.js";import"./vendor.tanstack-K6OTystZ.js";import"./vendor.leaflet-DeoKySpZ.js";/* empty css                     */function k(){const[l,x]=a.useState([]),[n,p]=a.useState("pending"),[h,o]=a.useState(!0),[m,r]=a.useState(""),i=async()=>{o(!0),r("");try{const s=await d.listUsers({status:n});x(s.items||s.users||[])}catch(s){r(s.data?.error||s.message)}finally{o(!1)}};a.useEffect(()=>{i()},[n]);const j=async s=>{try{await d.activateUser(s),await i()}catch(t){r(t.data?.error||t.message)}},u=async s=>{prompt("سبب الرفض؟");try{await d.deactivateUser(s),await i()}catch(t){r(t.data?.error||t.message)}};return e.jsxs("div",{className:"container-custom p-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"مراجعة KYC للبائعين"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm",children:[e.jsx("label",{children:"الحالة:"}),e.jsxs("select",{className:"border px-2 py-1",value:n,onChange:s=>p(s.target.value),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"none",children:"None"})]}),e.jsx(c,{variant:"outline",size:"sm",onClick:i,children:"تحديث"})]}),m&&e.jsxs("div",{className:"text-sm text-red-600 mb-2",children:["خطأ: ",String(m)]}),h?e.jsx("div",{children:"تحميل..."}):e.jsxs("ul",{className:"space-y-3",children:[l.map(s=>e.jsxs("li",{className:"border rounded p-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"font-semibold",children:[s.storeName," — ",s.user?.email||s.userId]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"primary",size:"sm",onClick:()=>j(s.id),children:"موافقة"}),e.jsx(c,{variant:"danger",size:"sm",onClick:()=>u(s.id),children:"رفض"})]})]}),e.jsxs("div",{children:["Company: ",s.companyName||"—"," | CR: ",s.crNumber||"—"]}),e.jsxs("div",{children:["IBAN: ",s.iban||"—"," | Bank: ",s.bankName||"—"]}),e.jsxs("div",{children:["Address: ",s.addressText||"—"]}),e.jsxs("div",{children:["Status: ",e.jsx("strong",{children:s.kycStatus||"none"})]})]},s.id)),l.length===0&&e.jsx("li",{className:"text-gray-500",children:"لا يوجد عناصر"})]})]})}export{k as default};
