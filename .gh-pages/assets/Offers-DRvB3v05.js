import{r as o,j as e}from"./vendor.react-BIXKTxlu.js";import{u as b,r as u,E as j,a as I,b as M,c as A,g as E,S as $}from"./index-B9WgXUd4.js";import{P as H,a as L}from"./ProductCard-CBwehriS.js";import F from"./CategoryChips-C9aGmrCx.js";import q from"./BrandsStrip-psz5R8pL.js";import{H as B}from"./Home-nlMLq94n.js";import{motion as f,AnimatePresence as z}from"./vendor.motion-CEYbfUzq.js";import U from"./ProductSlider-CB2QMZgp.js";import V from"./HomeFeatures-B61m1GCk.js";import"./vendor-CKneRQof.js";import"./vendor.router-BdFOcp8q.js";import"./vendor.i18next-COqwnjR1.js";import"./vendor.zustand-BuMo4m-J.js";import"./vendor.tanstack-K6OTystZ.js";import"./vendor.leaflet-Dl6I9sMh.js";/* empty css                     */import"./LazyImage-Dc5lMgrN.js";import"./Chip-DBCBBoVO.js";const _={hidden:{opacity:0,y:30,scale:.98},visible:r=>({opacity:1,y:0,scale:1,transition:{delay:r*.08,duration:.6,ease:"easeOut"}})},D=({categories:r=[],title:a,onSelect:c,selected:n})=>{const{locale:d}=b(),[x,p]=o.useState(0);return o.useEffect(()=>{if(r.length>1){const s=setInterval(()=>{p(i=>(i+1)%r.length)},3500);return()=>clearInterval(s)}},[r]),!Array.isArray(r)||r.length===0?null:e.jsx("section",{className:"categories-section-modern my-12","aria-label":a||(d==="ar"?"تصفح حسب الفئة":"Browse by Category"),children:e.jsxs("div",{className:"container-fixed px-4 py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h3",{className:"text-3xl font-extrabold text-emerald-700 tracking-wide drop-shadow-sm",children:a||(d==="ar"?"تصفح حسب الفئة":"Browse by Category")})}),e.jsx(f.div,{className:"hidden md:grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",role:"list",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:r.map((s,i)=>{const m=u(s.name,d)||s.slug,v=n===s.slug;return e.jsx(f.div,{role:"listitem",variants:_,custom:i,children:e.jsxs("button",{onClick:()=>c&&c(s.slug),className:`group relative block w-full rounded-2xl overflow-hidden border transition-transform duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500
                    ${v?"ring-2 ring-emerald-500 shadow-2xl scale-105":"shadow-md hover:shadow-xl hover:-translate-y-1 hover:scale-105"}`,children:[e.jsxs("div",{className:"aspect-square w-full bg-gray-100 relative overflow-hidden rounded-t-2xl",children:[e.jsx(j,{src:s.image||"/images/category-placeholder.jpg",alt:m,loading:"lazy",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-black/10 to-transparent pointer-events-none"})]}),e.jsxs("div",{className:"p-4 bg-white/95 dark:bg-slate-800/80 text-center rounded-b-2xl",children:[e.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-white truncate mb-1",children:m}),typeof s.productCount<"u"&&e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:[s.productCount," ",d==="ar"?"منتج":"items"]})]}),e.jsx("span",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300 bg-emerald-500 text-white text-xs font-bold rounded-full px-2 py-1 shadow-md transform translate-y-0 group-hover:-translate-y-1",children:d==="ar"?"عرض":"View"})]})},s.id||s.slug)})}),e.jsxs("div",{className:"md:hidden relative w-full overflow-hidden rounded-2xl",children:[e.jsx(z,{initial:!1,children:r.map((s,i)=>{if(i!==x)return null;const m=u(s.name,d)||s.slug;return e.jsx(f.div,{className:"w-full/2 flex-shrink-0",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.6},children:e.jsxs("button",{onClick:()=>c&&c(s.slug),className:"block w-full rounded-2xl overflow-hidden border shadow-md hover:shadow-lg",children:[e.jsxs("div",{className:"aspect-square w-full bg-gray-100 relative overflow-hidden",children:[e.jsx(j,{src:s.image||"/images/category-placeholder.jpg",alt:m,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-black/10 to-transparent"})]}),e.jsxs("div",{className:"p-3 bg-white/95 text-center",children:[e.jsx("div",{className:"text-base font-semibold text-slate-900 truncate",children:m}),typeof s.productCount<"u"&&e.jsxs("div",{className:"text-xs text-slate-500",children:[s.productCount," ",d==="ar"?"منتج":"items"]})]})]})},s.id||s.slug)})}),e.jsx("div",{className:"flex justify-center gap-1 mt-2",children:r.map((s,i)=>e.jsx("button",{onClick:()=>p(i),className:`w-2 h-2 rounded-full transition-all duration-100 ${i===x?"bg-emerald-500 scale-110":"bg-gray-300 hover:scale-105"}`},i))})]})]})})},O=()=>{const{t:r,locale:a}=b(),{setting:c}=I()||{},{products:n,loading:d}=M()||{products:[],loading:!1},{features:x,byLocation:p}=A()||{byLocation:{topStrip:[]},features:[]},[s,i]=o.useState([]),[m,v]=o.useState(0),[y,w]=o.useState(null);o.useEffect(()=>{let t=!0;return E.listCategories({withCounts:1}).then(l=>{t&&l?.categories&&i(l.categories)}).catch(()=>{}),()=>{t=!1}},[]);const N=o.useMemo(()=>{const t=new Map;for(const l of s){const g=l.slug||l.id;t.has(g)||t.set(g,l)}return Array.from(t.values()).sort((l,g)=>(g.productCount||0)-(l.productCount||0)).slice(0,8)},[s]);o.useMemo(()=>(n||[]).slice(0,6),[n]);const k=o.useMemo(()=>(n||[]).slice(-6).reverse(),[n]),C=o.useMemo(()=>(n||[]).filter(t=>t.oldPrice&&t.oldPrice>t.price).slice(0,6),[n]),h=a==="ar"?c?.siteNameAr||"شركة منفذ اسيا التجارية":c?.siteNameEn||"My Store",S=a==="ar"?`${r("home")} | ${h}`:`${h} | ${r("home")}`,P=o.useMemo(()=>x?.slice(0,6).map(t=>({id:t.id,icon:e.jsx("span",{className:"text-3xl","aria-hidden":"true",children:t.icon}),title:u(t.title,a)||t.title,description:u(t.body,a)||t.body}))||[],[x,a]);return e.jsxs("div",{className:"home-page-wrapper min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[e.jsx($,{title:S,description:r("heroLead")}),p.topStrip?.length>0&&e.jsx("div",{className:"top-strip bg-emerald-600 text-white text-sm",children:e.jsx("div",{className:"container-custom flex justify-center gap-4 py-2 overflow-x-auto",children:p.topStrip.slice(0,3).map(t=>e.jsxs("a",{href:t.linkUrl||"#",className:"inline-flex items-center gap-2 hover:opacity-90 transition truncate",children:[t.image&&e.jsx("img",{src:t.image,alt:u(t.title,a),className:"h-8 w-auto rounded-md object-cover"}),e.jsx("span",{className:"font-medium truncate max-w-xs",children:u(t.title,a)})]},t.id))})}),e.jsx(B,{siteName:h,locale:a,t:r}),e.jsx("div",{className:"backdrop-blur-sm bg-white/80 dark:bg-gray-800/60 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"container-custom py-3",children:e.jsx(F,{})})}),e.jsx(V,{features:P}),e.jsxs("div",{className:"home-sections w-full overflow-hidden",children:[e.jsx("section",{className:"relative bg-gradient-to-b from-emerald-50 to-white py-12 md:py-16",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-4 lg:px-6",children:e.jsx("div",{className:"-mt-8 md:-mt-14",children:e.jsx(D,{categories:N,title:a==="ar"?"الاقسام":"Categories",selected:y,onSelect:t=>w(t)})})})}),e.jsx("section",{className:"relative py-12 md:py-16 bg-gradient-to-t from-white to-emerald-50",children:e.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-8",children:e.jsx(U,{products:n,title:a==="ar"?"المنتجات المميزة":"Featured Products"})})}),e.jsx(q,{}),e.jsx(O,{products:C}),e.jsx("section",{className:"home-products section-padding bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"container-fixed",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:r("latestProducts")}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:d?Array.from({length:6}).map((t,l)=>e.jsx(H,{},l)):k.map(t=>e.jsx(L,{product:t},t.id))})]})})]})]})};export{O as default};
