const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CategoryChips-C9aGmrCx.js","assets/vendor.react-BIXKTxlu.js","assets/vendor-CKneRQof.js","assets/vendor.router-BdFOcp8q.js","assets/vendor.i18next-COqwnjR1.js","assets/vendor.zustand-BuMo4m-J.js","assets/vendor.tanstack-K6OTystZ.js","assets/vendor.leaflet-Dl6I9sMh.js","assets/index-B9WgXUd4.js","assets/index-DyYrs08G.css","assets/vendor-B1-rhOTE.css","assets/Chip-DBCBBoVO.js","assets/ProductSlider-CB2QMZgp.js","assets/ProductCard-CBwehriS.js","assets/LazyImage-Dc5lMgrN.js","assets/HomeFeatures-B61m1GCk.js","assets/BrandsStrip-psz5R8pL.js","assets/Offers-DRvB3v05.js","assets/vendor.motion-CEYbfUzq.js"])))=>i.map(i=>d[i]);
import{_ as N}from"./vendor.tanstack-K6OTystZ.js";import{R as S,r as t,j as e,o as $,ah as D,ai as H,n as q,L as F}from"./vendor.react-BIXKTxlu.js";import{P as O,a as M}from"./ProductCard-CBwehriS.js";import{u as R,a as V,A as B,m as v,b as G,c as U,r as C,S as X}from"./index-B9WgXUd4.js";const K=S.memo(({src:a,alt:r,className:i})=>{const[u,l]=t.useState(!1);return e.jsx("div",{className:`${i} bg-gray-200 transition-opacity duration-300 ${u?"opacity-100":"opacity-0"}`,children:e.jsx("img",{src:a,alt:r,loading:"lazy",decoding:"async",onLoad:()=>l(!0),className:"w-full h-full object-cover"})})}),J=S.memo(({slide:a,locale:r,t:i})=>e.jsxs(v.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.6,delay:.2},className:"space-y-6",children:[e.jsxs(v.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4},className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-semibold border border-white/30",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),i("saleBadge")]}),e.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold leading-tight",children:e.jsx("span",{className:"block bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent",children:a.title})}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-white/90 font-light max-w-2xl mx-auto leading-relaxed",children:a.subtitle}),e.jsxs(v.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mt-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[e.jsx("a",{href:"/products",className:"inline-flex items-center justify-center bg-transparent text-white border-2 border-white/50 px-8 py-4 rounded-lg font-semibold text-lg backdrop-blur-sm hover:bg-white/10 hover:border-white transition-all duration-300 min-w-[200px]",children:r==="ar"?"تسوق الآن":"Shop Now"}),e.jsx("a",{href:"/about",className:"inline-flex items-center justify-center bg-transparent text-white border-2 border-white/50 px-8 py-4 rounded-lg font-semibold text-lg backdrop-blur-sm hover:bg-white/10 hover:border-white transition-all duration-300 min-w-[200px]",children:r==="ar"?"تعرف علينا":"About Us"})]})]},a.id)),Q=S.memo(({slide:a,isActive:r})=>e.jsxs(v.div,{initial:{opacity:0,scale:1.05},animate:{opacity:r?1:0,scale:r?1:1.05},exit:{opacity:0,scale:.98},transition:{duration:.7,ease:"easeInOut"},className:"absolute inset-0 w-full h-full",style:{display:r?"block":"none"},children:[e.jsx(K,{src:a.src,alt:a.title,className:"w-full h-full"}),e.jsx("div",{className:"absolute inset-0",style:{background:a.overlay}}),e.jsx("div",{className:"absolute inset-0 bg-black/20"})]},a.id)),W=()=>{const{locale:a,t:r}=R(),{setting:i}=V(),u="/products",l=t.useMemo(()=>{if(i?.heroBackgroundImage||i?.heroBackgroundGradient||i?.heroCenterImage){const n=a==="ar"?"تسوّق الآن":"Shop Now",d=a==="ar"?"أفضل العروض والمنتجات":"Great offers and products";return[{id:"setting-hero",src:i.heroBackgroundImage||"https://images.unsplash.com/photo-1607082350899-7e105aa886ae?auto=format&fit=crop&w=1200&q=70",title:n,subtitle:d,link:u,overlay:i.heroBackgroundGradient||"linear-gradient(135deg, rgba(16,185,129,0.8) 0%, rgba(5,150,105,0.8) 100%)",centerImage:i.heroCenterImage||null}]}return[{id:1,src:"https://images.unsplash.com/photo-1607082350899-7e105aa886ae?auto=format&fit=crop&w=1200&q=70",title:a==="ar"?"عروض خاصة":"Special Offers",subtitle:a==="ar"?"خصومات تصل إلى 50%":"Up to 50% Discount",link:u,overlay:"linear-gradient(135deg, rgba(102,126,234,0.8) 0%, rgba(118,75,162,0.8) 100%)"},{id:2,src:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=1200&q=70",title:a==="ar"?"أحدث المنتجات":"New Arrivals",subtitle:a==="ar"?"اكتشف مجموعتنا الجديدة":"Discover Our New Collection",link:u+"?sort=newest",overlay:"linear-gradient(135deg, rgba(239,68,68,0.8) 0%, rgba(249,115,22,0.8) 100%)"},{id:3,src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?auto=format&fit=crop&w=1200&q=70",title:a==="ar"?"شحن مجاني":"Free Shipping",subtitle:a==="ar"?"لطلبات فوق 200 ريال":"For Orders Over 200 SAR",link:"/shipping-info",overlay:"linear-gradient(135deg, rgba(16,185,129,0.8) 0%, rgba(5,150,105,0.8) 100%)"}]},[i,a]),[o,h]=t.useState(0),[g,x]=t.useState(!0),[f,p]=t.useState(!1),m=t.useRef(null),b=t.useRef(0);t.useEffect(()=>()=>{m.current&&clearInterval(m.current)},[]);const T=t.useCallback(n=>h(n),[]),y=t.useCallback(()=>h(n=>n===l.length-1?0:n+1),[l.length]),w=t.useCallback(()=>h(n=>n===0?l.length-1:n-1),[l.length]);t.useEffect(()=>{if(!g||f){m.current&&(clearInterval(m.current),m.current=null);return}return m.current=setInterval(y,i?.heroAutoplayInterval||5e3),()=>{m.current&&(clearInterval(m.current),m.current=null)}},[g,f,y,i]);const E=t.useCallback(n=>{b.current=n.targetTouches[0].clientX},[]),A=t.useCallback(n=>{const d=n.changedTouches[0].clientX,s=b.current-d;Math.abs(s)>50&&(s>0?y():w())},[y,w]),k=t.useRef(0);return t.useEffect(()=>{k.current+=1},[o]),e.jsxs("section",{className:"relative h-screen min-h-[520px] max-h-[800px] overflow-hidden",dir:a==="ar"?"rtl":"ltr",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onTouchStart:E,onTouchEnd:A,children:[e.jsxs("div",{className:"relative w-full h-full",children:[l.map((n,d)=>e.jsx(Q,{slide:n,isActive:d===o},n.id)),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[e.jsx(B,{mode:"wait",children:e.jsx(J,{slide:l[o],locale:a,t:r})}),l[o]?.centerImage&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("img",{src:l[o].centerImage,alt:"",className:"max-h-48 sm:max-h-64 md:max-h-72 object-contain drop-shadow-xl",loading:"lazy"})})]})})}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:w,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 active:scale-95","aria-label":a==="ar"?"السابق":"Previous",children:e.jsx($,{size:20})}),e.jsx("button",{onClick:()=>x(!g),className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 active:scale-95","aria-label":g?a==="ar"?"إيقاف":"Pause":a==="ar"?"تشغيل":"Play",children:g?e.jsx(D,{size:16}):e.jsx(H,{size:16})}),e.jsx("button",{onClick:y,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 active:scale-95","aria-label":a==="ar"?"التالي":"Next",children:e.jsx(q,{size:20})})]}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3 ml-2 sm:ml-4",children:l.map((n,d)=>e.jsx("button",{onClick:()=>T(d),className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${d===o?"bg-white scale-125":"bg-white/50 hover:bg-white/70"}`,"aria-label":a==="ar"?`انتقل إلى الشريحة ${d+1}`:`Go to slide ${d+1}`},d))})]}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/20",children:e.jsx(v.div,{className:"h-full bg-white",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:(i?.heroAutoplayInterval||5e3)/1e3,ease:"linear"}},k.current)})]}),e.jsx(v.div,{className:"absolute bottom-4 left-1/2 -translate-x-1/2 cursor-pointer",animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0},onClick:()=>window.scrollBy({top:window.innerHeight-200,behavior:"smooth"}),children:e.jsx("div",{className:"w-5 h-8 sm:w-6 sm:h-10 border-2 border-white/50 rounded-full flex justify-center",children:e.jsx(v.div,{className:"w-1 h-2 sm:h-3 bg-white/70 rounded-full mt-2",animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0}})})})]})},Y=S.memo(W);function _({children:a,fallback:r=null,rootMargin:i="200px"}){const[u,l]=t.useState(!1),o=t.useRef(null);return t.useEffect(()=>{if(u)return;const h=o.current;if(!h)return;if(typeof window<"u"&&"IntersectionObserver"in window){const x=new IntersectionObserver(f=>{f[0].isIntersecting&&(l(!0),x.disconnect())},{rootMargin:i});return x.observe(h),()=>{x.disconnect()}}const g=setTimeout(()=>l(!0),300);return()=>clearTimeout(g)},[u,i]),e.jsx("div",{ref:o,children:u?a:r})}const z=({title:a,viewAllLink:r,viewAllText:i,children:u,className:l=""})=>{const{t:o}=R(),h=i||o("viewAll")||"View All";return e.jsx("section",{className:`relative py-12 md:py-16 ${l}`,children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-6 lg:px-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:a}),r&&e.jsx(F,{to:r,className:"text-emerald-600 dark:text-emerald-400 hover:underline text-sm md:text-base",children:h})]}),u]})})},Z=t.lazy(()=>N(()=>import("./CategoryChips-C9aGmrCx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),ee=t.lazy(()=>N(()=>import("./ProductSlider-CB2QMZgp.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,13,8,9,10,14]))),te=t.lazy(()=>N(()=>import("./HomeFeatures-B61m1GCk.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,9,10]))),ae=t.lazy(()=>N(()=>import("./BrandsStrip-psz5R8pL.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10]))),se=t.lazy(()=>N(()=>import("./Offers-DRvB3v05.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10,13,14,0,11,16,18,12,15]))),re=()=>{const{t:a,locale:r}=R(),{setting:i}=V()||{},{products:u,loading:l}=G()||{products:[],loading:!1},o=t.useDeferredValue(u||[]),{features:h,byLocation:g}=U()||{byLocation:{topStrip:[]},features:[]},[x,f]=t.useState(!1),[p,m]=t.useState(null);t.useEffect(()=>{let s=!0,c;const j=()=>{try{t.startTransition(()=>{s&&f(!0)})}catch{s&&f(!0)}};if(typeof window<"u")if("requestIdleCallback"in window){const I=window.requestIdleCallback(j,{timeout:1e3});return()=>{s=!1,window.cancelIdleCallback?.(I)}}else c=setTimeout(j,700);return()=>{s=!1,c&&clearTimeout(c)}},[]);const b=t.useMemo(()=>(o||[]).slice(-6).reverse(),[o]),T=t.useMemo(()=>(o||[]).filter(s=>s.oldPrice&&s.oldPrice>s.price).slice(0,6),[o]),y=t.useMemo(()=>(o||[]).slice(0,12),[o]),w=r==="ar"?i?.siteNameAr||"شركة منفذ اسيا التجارية":i?.siteNameEn||"My Store",E=r==="ar"?`${a("home")} | ${w}`:`${w} | ${a("home")}`,A=t.useMemo(()=>h?.slice(0,6).map(s=>({id:s.id,icon:e.jsx("span",{className:"text-3xl","aria-hidden":"true",children:s.icon}),title:C(s.title,r)||s.title,description:C(s.body,r)||s.body}))||[],[h,r]),k=t.useMemo(()=>{try{return typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{return!1}},[]),n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}};return t.useEffect(()=>{if(!x||k)return;let s=!1,c=null,j=null;const I=()=>{N(()=>import("./vendor.motion-CEYbfUzq.js"),__vite__mapDeps([18,1,2,3,4,5,6,7])).then(L=>{if(s)return;const P=L.m||L.motion;P&&typeof P=="object"&&"div"in P?m(P):m(null)}).catch(()=>{})};try{typeof window<"u"&&typeof window.requestIdleCallback=="function"?c=window.requestIdleCallback(I,{timeout:800}):j=setTimeout(I,0)}catch{j=setTimeout(I,0)}return()=>{s=!0;try{c&&typeof window<"u"&&typeof window.cancelIdleCallback=="function"&&window.cancelIdleCallback(c)}catch{}j&&clearTimeout(j)}},[x,k]),e.jsxs("div",{className:"home-page-wrapper min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[e.jsx(X,{title:E,description:a("heroLead")}),g.topStrip?.length>0&&e.jsx("div",{className:"top-strip bg-emerald-600 text-white text-sm",children:e.jsx("div",{className:"container-custom flex justify-center gap-4 py-2 overflow-x-auto",children:g.topStrip.slice(0,3).map(s=>e.jsxs("a",{href:s.linkUrl||"#",className:"inline-flex items-center gap-2 hover:opacity-90 transition truncate",children:[s.image&&e.jsx("img",{src:s.image,alt:C(s.title,r),loading:"lazy",className:"h-8 w-auto rounded-md object-cover"}),e.jsx("span",{className:"font-medium truncate max-w-xs",children:C(s.title,r)})]},s.id))})}),e.jsx(Y,{siteName:w,locale:r,t:a}),e.jsx("div",{className:"backdrop-blur-sm bg-white/80 dark:bg-gray-800/60 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"container-custom py-3",children:e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"h-8 bg-white/70 dark:bg-gray-800/70 rounded-lg animate-pulse","aria-busy":"true","aria-live":"polite"}),children:e.jsx(Z,{})})})}),x?e.jsxs(e.Fragment,{children:[e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"container-custom py-8 animate-pulse",children:e.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-800 rounded w-1/3 mb-6"})}),children:e.jsx(_,{children:e.jsx(te,{features:A})})}),e.jsx(z,{title:r==="ar"?"المنتجات المميزة":"Featured Products",viewAllLink:"/products",className:"bg-gradient-to-t from-white to-emerald-50 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300",children:e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 animate-pulse",children:Array.from({length:6}).map((s,c)=>e.jsx("div",{className:"h-48 bg-white/80 dark:bg-gray-800 rounded-2xl shadow-md"},c))}),children:e.jsx(_,{threshold:.2,children:e.jsx(ee,{products:y,limit:12})})})}),e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"container-custom py-6",children:e.jsx("div",{className:"h-10 bg-white dark:bg-gray-800 rounded-lg animate-pulse"})}),children:e.jsx(_,{children:e.jsx(ae,{})})}),e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"container-custom py-8",children:e.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-800 rounded w-1/3 mb-6 animate-pulse"})}),children:e.jsx(_,{children:e.jsx(se,{products:T})})}),e.jsx(_,{children:e.jsx(z,{title:a("latestProducts"),viewAllLink:"/products",className:"bg-gradient-to-b from-white to-emerald-50 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300",children:p&&p.div?e.jsx(p.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 md:gap-6",children:l?Array.from({length:6}).map((s,c)=>e.jsx(p.div,{variants:d,children:e.jsx(O,{})},c)):b.length>0?b.map(s=>e.jsx(p.div,{variants:d,children:e.jsx(M,{product:s})},s.id)):e.jsx("p",{className:"col-span-full text-center text-gray-500 dark:text-gray-400 py-10",children:a("noProductsFound")})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 md:gap-6",children:l?Array.from({length:6}).map((s,c)=>e.jsx(O,{},c)):b.length>0?b.map(s=>e.jsx(M,{product:s},s.id)):e.jsx("p",{className:"col-span-full text-center text-gray-500 dark:text-gray-400 py-10",children:a("noProductsFound")})})})})]}):e.jsxs("div",{className:"container-custom py-8",children:[e.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-800 rounded w-1/3 mb-6 animate-pulse"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:Array.from({length:6}).map((s,c)=>e.jsx("div",{className:"h-40 bg-white dark:bg-gray-800 rounded-lg shadow-sm animate-pulse"},c))})]})]})},ie=S.memo(re),de=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}));export{Y as H,de as a};
