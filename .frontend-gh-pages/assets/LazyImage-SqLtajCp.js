import{r as c,j as i}from"./vendor.react-C0fmYGW5.js";function L({src:h,alt:p="",srcSet:m,sizes:z,defaultSizes:w="(min-width: 1024px) 25vw, (min-width: 768px) 33vw, 50vw",avifSrcSet:o,webpSrcSet:d,sources:l,className:y,wrapperClassName:A,style:I,imgStyle:b,rootMargin:x="200px",skeleton:R=!0,priority:s=!1,onLoad:a,onError:n,...v}){const f=c.useRef(null),[u,j]=c.useState(s||!1),[g,k]=c.useState(!1),r=z||w;return c.useEffect(()=>{if(s||u||!f.current)return;if(typeof IntersectionObserver>"u"){j(!0);return}const e=new IntersectionObserver(t=>{for(const E of t)if(E.isIntersecting){j(!0),e.disconnect();break}},{root:null,rootMargin:x,threshold:.05});return e.observe(f.current),()=>e.disconnect()},[s,u,x]),i.jsxs("div",{ref:f,className:A,style:{position:"relative",display:"block",...I},children:[R&&!g&&i.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:"linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 37%, #f3f4f6 63%)",backgroundSize:"400% 100%",animation:"lazyimg-shimmer 1.2s ease-in-out infinite",borderRadius:8}}),u&&(l||o||d?i.jsxs("picture",{children:[Array.isArray(l)&&l.map((e,t)=>i.jsx("source",{type:e.type,srcSet:e.srcSet,sizes:e.sizes},t)),o?i.jsx("source",{type:"image/avif",srcSet:o,sizes:r}):null,d?i.jsx("source",{type:"image/webp",srcSet:d,sizes:r}):null,i.jsx("img",{src:h,alt:p,srcSet:m,sizes:r,loading:s?"eager":"lazy",fetchPriority:s?"high":void 0,decoding:"async",onLoad:e=>{k(!0),a&&a(e)},onError:e=>{try{if(n)return n(e);const t=e.currentTarget;t.dataset.fallbackApplied||(t.dataset.fallbackApplied="1",t.src="/images/hero-image.svg")}catch{}},className:y,style:{display:"block",width:"100%",height:"100%",objectFit:"cover",transition:"opacity 220ms ease",opacity:g?1:0,...b},...v})]}):i.jsx("img",{src:h,alt:p,srcSet:m,sizes:r,loading:s?"eager":"lazy",fetchPriority:s?"high":void 0,decoding:"async",onLoad:e=>{k(!0),a&&a(e)},onError:e=>{try{if(n)return n(e);const t=e.currentTarget;t.dataset.fallbackApplied||(t.dataset.fallbackApplied="1",t.src="/images/hero-image.svg")}catch{}},className:y,style:{display:"block",width:"100%",height:"100%",objectFit:"cover",transition:"opacity 220ms ease",opacity:g?1:0,...b},...v})),i.jsx("style",{children:`
        @keyframes lazyimg-shimmer {
          0% { background-position: 100% 0; }
          100% { background-position: 0 0; }
        }
      `})]})}export{L};
