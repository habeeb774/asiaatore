import{r as a,j as t}from"./vendor.react-C0fmYGW5.js";import{u as S,c as C,d as w,e as k,b as P,r as d,S as M}from"./index-8VDXgoeV.js";import{H,C as L,a as E,P as F}from"./Home-B6zeVNdZ.js";import $ from"./BrandsStrip-CWbN9dIk.js";import A from"./CategoriesSection-gnge37tP.js";import I from"./ProductSlider-CSW8Sjmq.js";import q from"./HomeFeatures-Cw9edbUY.js";import"./vendor-CF_-ATCh.js";import"./vendor.router-2GzHiivc.js";import"./vendor.i18next-COqwnjR1.js";import"./vendor.zustand-BuMo4m-J.js";import"./vendor.tanstack-K6OTystZ.js";import"./vendor.leaflet-U7UpOlxs.js";/* empty css                     */import"./QuickViewModal-DDrexhCB.js";import"./LazyImage-SqLtajCp.js";import"./Chip-CoQHKlHa.js";import"./vendor.motion-YCPQEdLH.js";const z=()=>{const{t:i,locale:s}=S(),{setting:l}=C()||{},{products:o,loading:x}=w()||{products:[],loading:!1},{features:m,byLocation:p}=k()||{byLocation:{topStrip:[]},features:[]},[u,g]=a.useState([]),[B,D]=a.useState(0),[h,j]=a.useState(null);a.useEffect(()=>{let e=!0;return P.listCategories({withCounts:1}).then(r=>{e&&r?.categories&&g(r.categories)}).catch(()=>{}),()=>{e=!1}},[]);const f=a.useMemo(()=>{const e=new Map;for(const r of u){const c=r.slug||r.id;e.has(c)||e.set(c,r)}return Array.from(e.values()).sort((r,c)=>(c.productCount||0)-(r.productCount||0)).slice(0,8)},[u]);a.useMemo(()=>(o||[]).slice(0,6),[o]);const y=a.useMemo(()=>(o||[]).slice(-6).reverse(),[o]),N=a.useMemo(()=>(o||[]).filter(e=>e.oldPrice&&e.oldPrice>e.price).slice(0,6),[o]),n=s==="ar"?l?.siteNameAr||"شركة منفذ اسيا التجارية":l?.siteNameEn||"My Store",v=s==="ar"?`${i("home")} | ${n}`:`${n} | ${i("home")}`,b=a.useMemo(()=>m?.slice(0,6).map(e=>({id:e.id,icon:t.jsx("span",{className:"text-3xl","aria-hidden":"true",children:e.icon}),title:d(e.title,s)||e.title,description:d(e.body,s)||e.body}))||[],[m,s]);return t.jsxs("div",{className:"home-page-wrapper min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[t.jsx(M,{title:v,description:i("heroLead")}),p.topStrip?.length>0&&t.jsx("div",{className:"top-strip bg-emerald-600 text-white text-sm",children:t.jsx("div",{className:"container-custom flex justify-center gap-4 py-2 overflow-x-auto",children:p.topStrip.slice(0,3).map(e=>t.jsxs("a",{href:e.linkUrl||"#",className:"inline-flex items-center gap-2 hover:opacity-90 transition truncate",children:[e.image&&t.jsx("img",{src:e.image,alt:d(e.title,s),className:"h-8 w-auto rounded-md object-cover"}),t.jsx("span",{className:"font-medium truncate max-w-xs",children:d(e.title,s)})]},e.id))})}),t.jsx(H,{siteName:n,locale:s,t:i}),t.jsx("div",{className:"backdrop-blur-sm bg-white/80 dark:bg-gray-800/60 border-b border-gray-200 dark:border-gray-700",children:t.jsx("div",{className:"container-custom py-3",children:t.jsx(L,{})})}),t.jsx(q,{features:b}),t.jsxs("div",{className:"home-sections w-full overflow-hidden",children:[t.jsx("section",{className:"relative bg-gradient-to-b from-emerald-50 to-white py-12 md:py-16",children:t.jsx("div",{className:"container mx-auto px-4 sm:px-4 lg:px-6",children:t.jsx("div",{className:"-mt-8 md:-mt-14",children:t.jsx(A,{categories:f,title:s==="ar"?"الاقسام":"Categories",selected:h,onSelect:e=>j(e)})})})}),t.jsx("section",{className:"relative py-12 md:py-16 bg-gradient-to-t from-white to-emerald-50",children:t.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-8",children:t.jsx(I,{products:o,title:s==="ar"?"المنتجات المميزة":"Featured Products"})})}),t.jsx($,{}),t.jsx(z,{products:N}),t.jsx("section",{className:"home-products section-padding bg-white dark:bg-gray-900",children:t.jsxs("div",{className:"container-fixed",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:i("latestProducts")}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:x?Array.from({length:6}).map((e,r)=>t.jsx(E,{},r)):y.map(e=>t.jsx(F,{product:e},e.id))})]})})]})]})};export{z as default};
