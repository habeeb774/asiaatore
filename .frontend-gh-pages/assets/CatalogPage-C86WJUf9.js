import{u as b,b as N,r,j as e}from"./vendor.react-C0fmYGW5.js";import{u as v,c as w,b as C,S,n,r as c}from"./index-B0cb22ux.js";import"./vendor-CF_-ATCh.js";import"./vendor.router-2GzHiivc.js";import"./vendor.i18next-COqwnjR1.js";import"./vendor.zustand-BuMo4m-J.js";import"./vendor.tanstack-K6OTystZ.js";import"./vendor.leaflet-U7UpOlxs.js";/* empty css                     */const T=()=>{b();const u=N(),{t:i,locale:a}=v(),{setting:l}=w()||{},d=a==="ar"?l?.siteNameAr||"شركة منفذ اسيا التجارية":l?.siteNameEn||"My Store",x=a==="ar"?`${i("catalog")} | ${d}`:`${d} | ${i("catalog")}`,[m,p]=r.useState([]),[f,j]=r.useState(!0);r.useEffect(()=>{try{const t=localStorage.getItem("cats_cache"),s=Number(localStorage.getItem("cats_cache_ts")||0),o=Date.now()-s<3600*1e3;if(t&&o){const g=JSON.parse(t);Array.isArray(g)&&p(g)}}catch{}C.listCategories({withCounts:1}).then(t=>{t?.categories&&p(t.categories)}).catch(()=>{}).finally(()=>{j(!1)})},[]);const h=r.useMemo(()=>{const t=new Map;for(const s of m){const o=s.slug||s.id;t.has(o)||t.set(o,s)}return Array.from(t.values()).sort((s,o)=>(o.productCount||0)-(s.productCount||0))},[m]),y={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:i("breadcrumbHome"),item:"https://jomlah.app/"},{"@type":"ListItem",position:2,name:i("breadcrumbCatalog"),item:"https://jomlah.app"+(a==="ar"?"/catalog":`/${a}/catalog`)}]};return e.jsxs("div",{className:"offers-page catalog-page container-custom px-4 py-8",children:[e.jsx(S,{title:x,description:i("catalog")}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(y)}}),e.jsx("h1",{className:"page-title",children:i("catalog")}),f?e.jsx("section",{className:"section-padding bg-white","aria-labelledby":"cats-head",children:e.jsxs("div",{className:"container-custom",children:[e.jsxs("div",{className:"home-section-head text-center",children:[e.jsx(n,{className:"h-8 w-56 mx-auto mb-2"}),e.jsx(n,{className:"h-4 w-80 mx-auto"})]}),e.jsx("div",{className:"featured-grid",style:{gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))"},children:Array.from({length:8}).map((t,s)=>e.jsx("div",{children:e.jsxs("div",{className:"block rounded-2xl bg-white shadow overflow-hidden p-0",children:[e.jsx(n,{className:"w-full",style:{aspectRatio:"4/3"}}),e.jsxs("div",{style:{padding:"10px 12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(n,{className:"h-5 w-28"}),e.jsx(n,{className:"h-4 w-10"})]})]})},s))})]})}):h.length>0?e.jsx("section",{className:"section-padding bg-white","aria-labelledby":"cats-head",children:e.jsxs("div",{className:"container-custom",children:[e.jsxs("div",{className:"home-section-head text-center",children:[e.jsx("h2",{id:"cats-head",className:"home-section-head__title",children:a==="ar"?"تصفح حسب التصنيف":"Browse by Category"}),e.jsx("p",{className:"home-section-head__subtitle",children:a==="ar"?"اختيارات سريعة لأفضل الأقسام":"Quick picks for top categories"})]}),e.jsx("div",{className:"featured-grid",style:{gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))"},children:h.map(t=>e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>u(`/products?category=${encodeURIComponent(t.slug)}&page=1`),className:"block rounded-2xl bg-white shadow hover:shadow-2xl transition overflow-hidden text-left w-full",children:[e.jsx("div",{style:{aspectRatio:"4/3",background:"#f3f4f6",display:"grid",placeItems:"center"},children:t.image?e.jsx("img",{src:t.image,alt:c(t.name,a)||t.name?.ar||t.slug,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{fontSize:"2rem",fontWeight:800,color:"var(--color-primary)"},children:(c(t.name,a)||t.name?.ar||t.slug).toString().slice(0,2)})}),e.jsxs("div",{style:{padding:"10px 12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:700},children:c(t.name,a)||t.name?.ar||t.name?.en||t.slug}),typeof t.productCount=="number"&&e.jsx("span",{style:{fontSize:12,opacity:.7},children:t.productCount})]})]})},t.id||t.slug))})]})}):e.jsx("section",{className:"section-padding bg-white",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:a==="ar"?"لا توجد أقسام متاحة الآن":"No categories available yet"}),e.jsx("p",{className:"text-gray-600",children:a==="ar"?"الرجاء المحاولة لاحقًا أو إضافة أقسام من لوحة التحكم.":"Please try again later or add categories from Admin."})]})})})]})};export{T as default};
