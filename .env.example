# -------------------------------------------
# My Store â€“ Environment Template (.env.example)
# Copy to .env and adjust values before running locally.
# -------------------------------------------

############################################
# Core Server
############################################
NODE_ENV=development
PORT=4000
APP_BASE_URL=http://localhost:4000

# Frontend dev proxy target (Vite will default to this URL)
VITE_PROXY_TARGET=http://localhost:4000
VITE_API_URL=

############################################
# Database Configuration (choose ONE approach)
############################################
# Preferred: direct mysql:// URL (username:password@host:port/database)
DATABASE_URL="mysql://root:@localhost:3306/my_store_clean"

# Alternative: provide individual parts and let the server assemble the URL.
# DB_HOST=localhost
# DB_PORT=3306
# DB_USER=root
# DB_PASS=
# DB_NAME=my_store_dev

############################################
# Authentication & Security
############################################
AUTH_SECRET="change_this_secret"
# TRUST_PROXY=true        # enable when running behind reverse proxy
# FORCE_HTTPS=false       # set true in production behind HTTPS
CORS_ORIGIN=http://localhost:5173,http://localhost:5174

############################################
# Rate Limiting (tune for production)
############################################
# RATE_LIMIT_AUTH_ENABLE=true
# RATE_LIMIT_AUTH_DISABLE=false
# RATE_LIMIT_AUTH_MAX=10
# RATE_LIMIT_AUTH_WINDOW_MS=60000
# RATE_LIMIT_PAY_ENABLE=true
# RATE_LIMIT_PAY_DISABLE=false
# RATE_LIMIT_PAY_MAX=5
# RATE_LIMIT_PAY_WINDOW_MS=300000

############################################
# Payments
############################################
PAYPAL_CLIENT_ID=your_paypal_sandbox_client_id
PAYPAL_SECRET=your_paypal_sandbox_secret
PAYPAL_API=https://api-m.sandbox.paypal.com
PAYPAL_CANCEL_URL=http://localhost:5173/checkout/cancel
# STC_API_KEY=
# STC_API_BASE=https://sandbox.stcpay.example

############################################
# Bank Transfer (Manual Payments)
############################################
BANK_ACCOUNT_NAME="Demo Trading Co."
BANK_ACCOUNT_IBAN="SA03 8000 0000 6080 1016 7519"
BANK_NAME="Demo Bank"

############################################
# Developer Helpers (DO NOT enable in production)
############################################
# QUICK_START_DB=1          # Auto inject mysql://root:root@localhost:3306/my_store
# ALLOW_INVALID_DB=true     # Allow API to run without a live database
# ALLOW_DEV_HEADERS=true    # Enable x-user-id/x-user-role fake auth headers
# DEBUG_ERRORS=true         # Include stack traces in API errors (non-prod only)
# DEBUG_LOGIN=1             # Allow dev fallback credentials (admin@example.com / admin123)
# DEBUG_PRODUCTS=1          # Enable product catalog debug helpers/logs
DEV_ADMIN_PASSWORD=Admin123!

############################################
# Logging & Diagnostics
############################################
LOG_LEVEL=info
PINO_PRETTY=true
# LOG_SQL=true
# DEBUG_PAYMENTS=true

############################################
# Notes
############################################
# - Copy this file to .env and update secrets before running locally.
# - Restart the backend after changing environment variables.
# - Use `npm run db:reset` to rebuild the dev database from scratch (drops existing data!).
